<div class="container">
  <div class="row">
    <div class="col-sm-3 mt-5"><!--left col-->

      <div *ngIf="!this.retrievedImage">
        <!--        <img *ngIf="this.currentUser.userInfo.profileImage == null || selectedFile" [hidden]="selectedFile"-->
        <!--             src="https://dummyimage.com/400x400/000/fff.png"-->
        <!--             alt="" class="img-circle">-->

        <img *ngIf="this.currentUser.userInfo.profileImage == null || selectedFile"
             [hidden]="selectedFile"
             alt="avatar"
             class="avatar img-circle img-thumbnail"
             src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png">
        <button color="accent" mat-button>Upload Image</button>

        <input #fileDropRef (change)="onFileChanged($event); preview(fileDropRef.files)" accept="image/*"
               class="img-circle" hidden id="fileDropRef"
               style="display: block" type="file"/>
        <div *ngIf="!selectedFile" class="text-center">

          <label class="fileLabel" for="fileDropRef"> Upload profile picture!</label>
          <button (click)="changeImage()" *ngIf="retrievedImage !== null" mat-button> Cancel update</button>
        </div>

        <div *ngIf="selectedFile">
          <div>
            <img [src]="imgURL" class="avatar img-circle img-thumbnail">
          </div>
          <div>
            <p class="lead p-3">You look amazing!</p>
            <label class="fileLabel" for="fileDropRef">I want to upload a new picture!</label>
            <button (click)="onUpload()" mat-button> Save update</button>
          </div>
        </div>
      </div>

      <div *ngIf="this.retrievedImage" class="text-center">
        <img (click)="changeImage()" [src]="retrievedImage" class="avatar img-circle img-thumbnail"
             matTooltip="Click to change profile image!">
      </div>
    </div><!--/col-3-->

    <div class="col-sm-9 mt-5">
      <div class="tab-content">
        <p class="text-center display-6">
          {{ currentUser.userInfo?.firstName}} {{currentUser.userInfo?.lastName}}
        </p>

        <div class="tab-pane active" id="home">
          <form [formGroup]="profileForm" action="" class="form" id="registrationForm" method="post">

            <div class="row">
              <div class="form-group col-6">
                <label for="first_name">
                  <h4>First name</h4>
                </label>
                <input [readonly]="isEditMode" class="form-control" formControlName="firstName" id="first_name"
                       name="first_name"
                       placeholder="First Name"
                       title="enter your first name if any."
                       type="text">
              </div>
              <div class="form-group col-6">
                <label for="last_name"><h4>Last name</h4></label>
                <input [readonly]="isEditMode"
                       class="form-control"
                       formControlName="lastName"
                       id="last_name"
                       name="last_name"
                       placeholder="Last name"
                       type="text">
              </div>
            </div>

            <p-divider></p-divider>
            <div class="row">
              <div class="form-group col-6">
                <label for="phone"><h4>Phone</h4></label>
                <input [readonly]="isEditMode" class="form-control" formControlName="phoneNumber" id="phone"
                       name="phone"
                       placeholder="Phone number"
                       type="text">
              </div>
              <div class="form-group col-6">
                <label for="email"><h4>Email</h4></label>
                <input [readonly]="isEditMode" class="form-control" formControlName="email" id="email" name="email"
                       placeholder="you@email.com" type="email">
              </div>
            </div>

            <p-divider></p-divider>

            <div class="row">
              <div class="form-group col-6">
                <label for="city"><h4>City</h4></label>
                <input [readonly]="isEditMode" class="form-control" formControlName="city" id="city" placeholder="City"
                       type="email">
              </div>

              <div class="form-group col-6">
                <label for="email"><h4>Address</h4></label>
                <input [readonly]="isEditMode" class="form-control" formControlName="address" id="location"
                       placeholder="Address"
                       type="email">
              </div>
            </div>

            <p-divider></p-divider>

            <div class="form-group">
              <div class="flex justify-content-between pt-4">
                <button class="p-element p-ripple p-button-outlined p-button-secondary w-6 mr-2 p-button p-component"
                        icon="pi pi-search" label="View" pbutton="" pripple=""
                        type="reset"><span
                  aria-hidden="true" class="p-button-icon p-button-icon-left pi pi-search"></span><span
                  class="p-button-label">Reset</span><span class="p-ink"></span></button>
                <button (click)="changeEditMode()"
                        class="p-element p-ripple p-button-outlined p-button-secondary w-6 ml-2 p-button p-component"
                        icon="pi pi-user-plus"
                        label="accept"
                        pbutton=""><span
                  aria-hidden="true" class="p-button-icon p-button-icon-left pi pi-user-plus"></span><span
                  class="p-button-label">Update</span><span class="p-ink"></span></button>
              </div>
            </div>
          </form>

          <p-divider></p-divider>

        </div><!--/tab-pane-->

      </div><!--/tab-pane-->
    </div><!--/tab-content-->
  </div><!--/col-9-->
</div><!--/row-->

